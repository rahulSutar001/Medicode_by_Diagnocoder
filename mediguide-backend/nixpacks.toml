[phases.setup]
nixPkgs = ["python311", "tesseract"]
aptPkgs = ["tesseract-ocr", "libtesseract-dev", "libgl1", "libglib2.0-0", "libsm6", "libxext6", "libxrender1"]

[phases.install]
cmds = ["python -m venv .venv", ". .venv/bin/activate", "pip install -r requirements.txt"]

[start]
cmd = ". .venv/bin/activate && uvicorn app.main:app --host 0.0.0.0 --port $PORT"
